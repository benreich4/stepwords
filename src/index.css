
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Smooth autosolve popup transitions */
.autosolve-popup-centered {
  top: 50% !important;
  transform: translate(-50%, -50%) !important;
}

.autosolve-popup-moved {
  /* Position will be set via inline style, but ensure transform is stable */
  transform: translateX(-50%) !important;
}

/* Simple open animation for menus (mount animation) */
@keyframes fade-scale-in {
  from { opacity: 0; transform: scale(0.98) translateY(-4px); }
  to { opacity: 1; transform: scale(1) translateY(0); }
}

.menu-pop-in {
  animation: fade-scale-in 150ms ease-out both;
}

/* Keyboard content pop-in (slightly slower and more salient) */
@keyframes slide-up-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.kb-pop-in {
  animation: slide-up-in 300ms ease-out both;
}

/* Bounce animation for completion modal */
@keyframes bounce-subtle {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

/* Enhanced letter box animations */
@keyframes letter-pop {
  0% { transform: scale(1); }
  50% { transform: scale(1.15) rotate(2deg); }
  100% { transform: scale(1); }
}

@keyframes letter-glow {
  0%, 100% { box-shadow: 0 0 0 rgba(34, 197, 94, 0); }
  50% { box-shadow: 0 0 20px rgba(34, 197, 94, 0.6); }
}

.letter-pop-animation {
  animation: letter-pop 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.letter-glow-animation {
  animation: letter-glow 0.8s ease-in-out;
}

/* Perfect badge pulse when WOW sound plays (grow/shrink + highlight) */
@keyframes perfect-wow-pulse {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }
  25% {
    transform: scale(1.12);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.5), 0 0 20px rgba(16, 185, 129, 0.4);
  }
  50% {
    transform: scale(1.18);
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.7), 0 0 28px rgba(16, 185, 129, 0.5);
  }
  75% {
    transform: scale(1.08);
    box-shadow: 0 0 0 2px rgba(16, 185, 129, 0.5), 0 0 14px rgba(16, 185, 129, 0.35);
  }
}

.perfect-wow-animate {
  animation: perfect-wow-pulse 1.4s ease-in-out;
}

/* Shimmer animation for completed progress bar */
@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

/* Print mode styles */
@media print {
  @page {
    margin: 0.5in;
    size: letter;
  }
  
  html, body {
    background: white !important;
    color: black !important;
    width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* Ensure root container doesn't interfere with centering */
  #root {
    max-width: 100% !important;
    margin: 0 auto !important;
    padding: 0 !important;
    width: 100% !important;
  }
  
  /* Hide header and footer */
  header.app-header,
  footer.app-footer,
  header,
  footer {
    display: none !important;
  }
  
  .print-header {
    page-break-after: avoid;
  }
  
  /* Center print content - reset all containers */
  body > #root > div {
    max-width: 100% !important;
    margin: 0 auto !important;
    padding: 0 !important;
    display: block !important;
  }
  
  /* Ensure print content is centered */
  #grid-scroll {
    max-width: 42rem !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }
  
  /* Center Explore page and other page content when printing */
  body > #root > div > main {
    display: block !important;
    width: 100% !important;
    padding: 0 !important;
    margin: 0 !important;
    text-align: center !important;
  }
  
  /* Target pages with min-h-screen (like Explore page) - center it */
  body > #root > div > main > div.min-h-screen {
    max-width: 56rem !important; /* max-w-4xl equivalent */
    margin-left: auto !important;
    margin-right: auto !important;
    padding: 1rem !important;
    min-height: auto !important;
    background: white !important;
    color: black !important;
    text-align: left !important; /* Reset text alignment for content */
  }
  
  /* Ensure nested max-w containers are centered */
  body > #root > div > main > div > div.max-w-4xl,
  body > #root > div > main > div > div.max-w-2xl,
  body > #root > div > main > div > div.max-w-xl {
    margin-left: auto !important;
    margin-right: auto !important;
  }
  
  /* Hide interactive elements, but keep letter boxes visible */
  button:not(.letter-box),
  a[href],
  input:not([type="hidden"]),
  .no-print {
    display: none !important;
  }
  
  /* Letter boxes should be visible and print properly */
  .letter-box {
    display: inline-flex !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
  
  /* Ensure letter boxes have visible borders and backgrounds */
  .letter-box {
    border-width: 2px !important;
    border-style: solid !important;
  }
  
  /* Ensure text is black on white for non-letter-box elements */
  *:not(.letter-box) {
    color: black !important;
  }
  
  /* Allow backgrounds on letter boxes */
  .letter-box.bg-green-600,
  .letter-box.bg-yellow-400,
  .letter-box.bg-gray-100,
  .letter-box.bg-gray-900 {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
}
